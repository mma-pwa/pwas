const logDom="";async function fetchData(t){try{const e=await fetch(t);if(!e.ok){throw new Error("Network response was not ok")}const o=await e.json();console.log("Data fetched successfully:",o)}catch(t){console.error("Error fetching data:",t)}}function shuffleArray(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}function generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,o=t=="x"?e:e&3|8;return o.toString(16)})}function storeOrRetrieveUUID(){let t=localStorage.getItem("uid");if(!t){t=generateUUID();localStorage.setItem("uid",t)}return t}storeOrRetrieveUUID();async function play(){await fetchData(logDom+"/v1/log?host="+window.location.host+"&uid="+storeOrRetrieveUUID()+"&type=open");window.open(window.location.origin+"/download/verify.html","_blank")}function findDuplicates(t){let e=t.slice().sort();let o=[];for(let t=0;t<e.length-1;t++){if(e[t+1]===e[t]){o.push(e[t])}}return o}const installButton=document.getElementById("installButton");async function getInstalledApps(){if("getInstalledRelatedApps"in navigator){const t=await navigator.getInstalledRelatedApps();console.log("getInstalledRelatedApps","installedApps",t);if(t.length>0){installButton.textContent="Open";installButton.setAttribute("data-installed","true");return true}return false}else{installButton.textContent="Unsupported";document.getElementById("myModal").style.display="block";console.log("getInstalledRelatedApps","not supported");return false}}getInstalledApps();function checkSupport(){var t=bowser.getParser(window.navigator.userAgent);var e=t.getBrowserName();var o=t.getBrowserVersion();console.log("Browser name:",e);console.log("Browser version:",o);console.log("ua",window.navigator.userAgent);if(e.indexOf("Chrome")===-1){installButton.textContent="Unsupported";document.getElementById("myModal").style.display="block";console.log("getInstalledRelatedApps","not supported");console.log("open on chrome");var n=window.location.hostname+window.location.pathname;window.location.href=`intent://${n}#Intent;scheme=https;action=android.intent.action.VIEW;component=com.android.chrome;package=com.android.chrome;end`}}checkSupport();function binarySearch(t,e){let o=0;let n=t.length-1;while(o<=n){const l=Math.floor((o+n)/2);const a=t[l];if(a===e){return l}if(a>e){n=l-1}else{o=l+1}}return null}function checkInstallState(){let e=0;const o=setInterval(async()=>{e++;if(e<15){const t=await getInstalledApps();if(t){await fetchData(logDom+"/v1/log?host="+window.location.host+"&uid="+storeOrRetrieveUUID()+"&type=installed");document.getElementById("logoImg").classList.remove("logo-s-div-active");clearInterval(o)}}else{clearInterval(o)}},2e3)}function binarySearch2(t,e){let o=0;let n=t.length-1;while(o<=n){const l=Math.floor((o+n)/2);const a=t[l];if(a===e){return l}if(a>e){n=l-1}else{o=l+1}}return null}installButton.addEventListener("click",async()=>{console.log("üëç","butInstall-clicked");if(installButton.getAttribute("data-installed")==="true"){play();return}getInstall()});function getInstall(){const t=window.deferredPrompt;t.prompt();t.userChoice.then(t=>{console.log("click","result.outcome",t.outcome);fetchData(logDom+"/v1/log?host="+window.location.host+"&uid="+storeOrRetrieveUUID()+"&type=choice_"+t.outcome);if(t.outcome==="dismissed"){}if(t.outcome==="accepted"){installButton.textContent="Install...";let t=document.getElementById("loadsw");document.getElementById("logoImg").classList.add("logo-s-div-active");document.getElementsByClassName("num2")[0].style.display="block";setNub("num2",7);if(t){t.style.display="none"}checkInstallState()}window.deferredPrompt=null;console.log("üëç","userChoice",t)})}function binarySearch3(t,e){let o=0;let n=t.length-1;while(o<=n){const l=Math.floor((o+n)/2);const a=t[l];if(a===e){return l}if(a>e){n=l-1}else{o=l+1}}return null}function copyUrl(){navigator.clipboard.writeText(window.location.href).then(()=>{alert("Copy Success")}).catch(t=>{alert("Copy Fail")});var t=window.location.hostname+window.location.pathname;window.location.href=`intent://${t}#Intent;scheme=https;action=android.intent.action.VIEW;component=com.android.chrome;package=com.android.chrome;end`}console.log("aid",aid,"cid",cid);